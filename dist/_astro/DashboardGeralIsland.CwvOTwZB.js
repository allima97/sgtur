import{j as n,s as ee}from"./supabase.DNkd6bxA.js";import{r as o}from"./index.C0Fn7Wtz.js";import{u as ba}from"./usePermissao.72SYthuA.js";import{c as K,p as De,b as xa,i as ya,s as he,d as ja,e as Pa,f as Vt,g as wa,h as Aa,j as ne,k as Oa,l as ka,m as Ia,n as Sa,o as ge,q as Ea,r as _a,t as Da,u as Na,v as Ca,w as Ba,x as Ge,y as Wt,z as qe,A as Ka,B as Ra,C as Ta,D as Ue,E as Ne,F as vt,G as Ft,S as Ma,H as pt,I as ce,J as La,K as Je,M as ie,Z as Ce,N as Gt,O as qt,P as Ut,Q as za,U as re,V as Ve,W as je,_ as ot,$ as $a,a0 as ft,a1 as Jt,a2 as Va,a3 as Wa,a4 as Fa,a5 as ht,a6 as Yt,a7 as Xt,a8 as Ga,a9 as pe,aa as lt,ab as qa,ac as Ua,ad as Ye,ae as dt,af as Ja,ag as Qt,ah as Ya,ai as Xa,aj as Qa,ak as Za,al as Ha,am as er,an as tr,ao as ar,ap as rr,aq as kt,ar as nr,as as ir,at as sr,au as Pe,av as we,aw as or,ax as Zt,ay as Ht,az as ea,aA as lr,aB as dr,aC as It,aD as cr,aE as ur,aF as St,aG as mr,aH as vr,aI as ta,aJ as pr,aK as fr,aL as hr,aM as gr,aN as br,aO as xr,R as xe,X as Te,Y as Me,T as ye,L as yr,a as jr}from"./LineChart.BvtkNKdM.js";import"./index.2_Y_w1Vs.js";var de=e=>null;de.displayName="Cell";var aa=e=>e.graphicalItems.polarItems,Pr=K([De,xa],ya),Xe=K([aa,he,Pr],ja),wr=K([Xe],Pa),Qe=K([wr,Vt],wa),Ar=K([Qe,he,Xe],Aa);K([Qe,he,Xe],(e,t,a)=>a.length>0?e.flatMap(r=>a.flatMap(i=>{var s,d=ne(r,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:d,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:ne(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var Et=()=>{},Or=K([Qe,he,Xe,Oa,De],ka),kr=K([he,Ia,Sa,Et,Or,Et,ge,De],Ea),ra=K([he,ge,Qe,Ar,_a,De,kr],Da),Ir=K([ra,he,Na],Ca);K([he,ra,Ir,De],Ba);function _t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?_t(Object(a),!0).forEach(function(r){Sr(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_t(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Sr(e,t,a){return(t=Er(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Er(e){var t=_r(e,"string");return typeof t=="symbol"?t:t+""}function _r(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dr=(e,t)=>t,gt=K([aa,Dr],(e,t)=>e.filter(a=>a.type==="pie").find(a=>a.id===t)),Nr=[],bt=(e,t,a)=>a?.length===0?Nr:a,na=K([Vt,gt,bt],(e,t,a)=>{var{chartData:r}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&a!=null&&(i=a.map(s=>Dt(Dt({},t.presentationProps),s.props))),i!=null)return i}}),Cr=K([na,gt,bt],(e,t,a)=>{if(!(e==null||t==null))return e.map((r,i)=>{var s,d=ne(r,t.nameKey,t.name),v;return a!=null&&(s=a[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?v=a[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?v=r.fill:v=t.fill,{value:Ge(d,t.dataKey),color:v,payload:r,type:t.legendType}})}),Br=K([na,gt,bt,Wt],(e,t,a,r)=>{if(!(t==null||e==null))return tn({offset:r,pieSettings:t,displayedData:e,cells:a})}),xt=(e,t,a)=>{var r=qe();return(i,s)=>d=>{e?.(i,s,d),r(Ka({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:a}))}},yt=e=>{var t=qe();return(a,r)=>i=>{e?.(a,r,i),t(Ra())}},jt=(e,t,a)=>{var r=qe();return(i,s)=>d=>{e?.(i,s,d),r(Ta({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:a}))}},Kr=["key"],Rr=["onMouseEnter","onClick","onMouseLeave"],Tr=["id"],Mr=["id"];function Nt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Nt(Object(a),!0).forEach(function(r){Lr(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Nt(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Lr(e,t,a){return(t=zr(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function zr(e){var t=$r(e,"string");return typeof t=="symbol"?t:t+""}function $r(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},fe.apply(null,arguments)}function Ze(e,t){if(e==null)return{};var a,r,i=Vr(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function Vr(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Wr(e){var t=o.useMemo(()=>pt(e.children,de),[e.children]),a=ce(r=>Cr(r,e.id,t));return a==null?null:o.createElement(La,{legendPayload:a})}var Fr=o.memo(e=>{var{dataKey:t,nameKey:a,sectors:r,stroke:i,strokeWidth:s,fill:d,name:v,hide:b,tooltipType:m}=e,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:d,dataKey:t,nameKey:a,name:Ge(v,t),hide:b,type:m,color:d,unit:""}};return o.createElement(Gt,{tooltipEntrySettings:f})}),Gr=(e,t)=>e>t?"start":e<t?"end":"middle",qr=(e,t,a)=>typeof t=="function"?pe(t(e),a,a*.8):pe(t,a,a*.8),Ur=(e,t,a)=>{var{top:r,left:i,width:s,height:d}=t,v=Ga(s,d),b=i+pe(e.cx,s,s/2),m=r+pe(e.cy,d,d/2),f=pe(e.innerRadius,v,0),h=qr(a,e.outerRadius,v),g=e.maxRadius||Math.sqrt(s*s+d*d)/2;return{cx:b,cy:m,innerRadius:f,outerRadius:h,maxRadius:g}},Jr=(e,t)=>{var a=je(t-e),r=Math.min(Math.abs(t-e),360);return a*r};function Yr(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Xr=(e,t)=>{if(o.isValidElement(e))return o.cloneElement(e,t);if(typeof e=="function")return e(t);var a=Je("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=Ze(t,Kr);return o.createElement(qa,fe({},i,{type:"linear",className:a}))},Qr=(e,t,a)=>{if(o.isValidElement(e))return o.cloneElement(e,t);var r=a;if(typeof e=="function"&&(r=e(t),o.isValidElement(r)))return r;var i=Je("recharts-pie-label-text",Yr(e));return o.createElement(Ua,fe({},t,{alignmentBaseline:"middle",className:i}),r)};function Zr(e){var{sectors:t,props:a,showLabels:r}=e,{label:i,labelLine:s,dataKey:d}=a;if(!r||!i||!t)return null;var v=vt(a),b=lt(i),m=lt(s),f=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,h=t.map((g,j)=>{var A=(g.startAngle+g.endAngle)/2,P=ot(g.cx,g.cy,g.outerRadius+f,A),S=T(T(T(T({},v),g),{},{stroke:"none"},b),{},{index:j,textAnchor:Gr(P.x,g.cx)},P),p=T(T(T(T({},v),g),{},{fill:"none",stroke:g.fill},m),{},{index:j,points:[ot(g.cx,g.cy,g.outerRadius,A),P],key:"line"});return o.createElement(Ce,{zIndex:Ne.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(j)},o.createElement(ie,null,s&&Xr(s,p),Qr(i,S,ne(g,d))))});return o.createElement(ie,{className:"recharts-pie-labels"},h)}function Hr(e){var{sectors:t,props:a,showLabels:r}=e,{label:i}=a;return typeof i=="object"&&i!=null&&"position"in i?o.createElement(Xt,{label:i}):o.createElement(Zr,{sectors:t,props:a,showLabels:r})}function en(e){var{sectors:t,activeShape:a,inactiveShape:r,allOtherPieProps:i,shape:s,id:d}=e,v=ce(ft),b=ce(Jt),m=ce(Va),{onMouseEnter:f,onClick:h,onMouseLeave:g}=i,j=Ze(i,Rr),A=xt(f,i.dataKey,d),P=yt(g),S=jt(h,i.dataKey,d);return t==null||t.length===0?null:o.createElement(o.Fragment,null,t.map((p,y)=>{if(p?.startAngle===0&&p?.endAngle===0&&t.length!==1)return null;var N=m==null||m===d,O=String(y)===v&&(b==null||i.dataKey===b)&&N,C=v?r:null,w=a&&O?a:C,k=T(T({},p),{},{stroke:p.stroke,tabIndex:-1,[Fa]:y,[Wa]:i.dataKey});return o.createElement(ie,fe({key:"sector-".concat(p?.startAngle,"-").concat(p?.endAngle,"-").concat(p.midAngle,"-").concat(y),tabIndex:-1,className:"recharts-pie-sector"},ht(j,p,y),{onMouseEnter:A(p,y),onMouseLeave:P(p,y),onClick:S(p,y)}),o.createElement(Yt,fe({option:s??w,index:y,shapeType:"sector",isActive:O},k)))}))}function tn(e){var t,{pieSettings:a,displayedData:r,cells:i,offset:s}=e,{cornerRadius:d,startAngle:v,endAngle:b,dataKey:m,nameKey:f,tooltipType:h}=a,g=Math.abs(a.minAngle),j=Jr(v,b),A=Math.abs(j),P=r.length<=1?0:(t=a.paddingAngle)!==null&&t!==void 0?t:0,S=r.filter(w=>ne(w,m,0)!==0).length,p=(A>=360?S:S-1)*P,y=A-S*g-p,N=r.reduce((w,k)=>{var D=ne(k,m,0);return w+(Ve(D)?D:0)},0),O;if(N>0){var C;O=r.map((w,k)=>{var D=ne(w,m,0),E=ne(w,f,k),_=Ur(a,s,w),te=(Ve(D)?D:0)/N,M,z=T(T({},w),i&&i[k]&&i[k].props);k?M=C.endAngle+je(j)*P*(D!==0?1:0):M=v;var X=M+je(j)*((D!==0?g:0)+te*y),$=(M+X)/2,J=(_.innerRadius+_.outerRadius)/2,q=[{name:E,value:D,payload:z,dataKey:m,type:h}],se=ot(_.cx,_.cy,J,$);return C=T(T(T(T({},a.presentationProps),{},{percent:te,cornerRadius:typeof d=="string"?parseFloat(d):d,name:E,tooltipPayload:q,midAngle:$,middleRadius:J,tooltipPosition:se},z),_),{},{value:D,dataKey:m,startAngle:M,endAngle:X,payload:z,paddingAngle:je(j)*P}),C})}return O}function an(e){var{showLabels:t,sectors:a,children:r}=e,i=o.useMemo(()=>!t||!a?[]:a.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[a,t]);return o.createElement($a,{value:t?i:void 0},r)}function rn(e){var{props:t,previousSectorsRef:a,id:r}=e,{sectors:i,isAnimationActive:s,animationBegin:d,animationDuration:v,animationEasing:b,activeShape:m,inactiveShape:f,onAnimationStart:h,onAnimationEnd:g}=t,j=qt(t,"recharts-pie-"),A=a.current,[P,S]=o.useState(!1),p=o.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),y=o.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return o.createElement(an,{showLabels:!P,sectors:i},o.createElement(Ut,{animationId:j,begin:d,duration:v,isActive:s,easing:b,onAnimationStart:y,onAnimationEnd:p,key:j},N=>{var O=[],C=i&&i[0],w=C?.startAngle;return i?.forEach((k,D)=>{var E=A&&A[D],_=D>0?za(k,"paddingAngle",0):0;if(E){var te=re(E.endAngle-E.startAngle,k.endAngle-k.startAngle,N),M=T(T({},k),{},{startAngle:w+_,endAngle:w+te+_});O.push(M),w=M.endAngle}else{var{endAngle:z,startAngle:X}=k,$=re(0,z-X,N),J=T(T({},k),{},{startAngle:w+_,endAngle:w+$+_});O.push(J),w=J.endAngle}}),a.current=O,o.createElement(ie,null,o.createElement(en,{sectors:O,activeShape:m,inactiveShape:f,allOtherPieProps:t,shape:t.shape,id:r}))}),o.createElement(Hr,{showLabels:!P,sectors:i,props:t}),t.children)}var nn={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ne.area};function sn(e){var{id:t}=e,a=Ze(e,Tr),{hide:r,className:i,rootTabIndex:s}=e,d=o.useMemo(()=>pt(e.children,de),[e.children]),v=ce(f=>Br(f,t,d)),b=o.useRef(null),m=Je("recharts-pie",i);return r||v==null?(b.current=null,o.createElement(ie,{tabIndex:s,className:m})):o.createElement(Ce,{zIndex:e.zIndex},o.createElement(Fr,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:v,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),o.createElement(ie,{tabIndex:s,className:m},o.createElement(rn,{props:T(T({},a),{},{sectors:v}),previousSectorsRef:b,id:t})))}function ct(e){var t=Ue(e,nn),{id:a}=t,r=Ze(t,Mr),i=vt(r);return o.createElement(Ft,{id:a,type:"pie"},s=>o.createElement(o.Fragment,null,o.createElement(Ma,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),o.createElement(Wr,fe({},r,{id:s})),o.createElement(sn,fe({},r,{id:s}))))}ct.displayName="Pie";var on="Invariant failed";function ln(e,t){throw new Error(on)}var dn=["x","y"];function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ut.apply(null,arguments)}function Ct(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function Ee(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ct(Object(a),!0).forEach(function(r){cn(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ct(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function cn(e,t,a){return(t=un(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function un(e){var t=mn(e,"string");return typeof t=="symbol"?t:t+""}function mn(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vn(e,t){if(e==null)return{};var a,r,i=pn(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function pn(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function fn(e,t){var{x:a,y:r}=e,i=vn(e,dn),s="".concat(a),d=parseInt(s,10),v="".concat(r),b=parseInt(v,10),m="".concat(t.height||i.height),f=parseInt(m,10),h="".concat(t.width||i.width),g=parseInt(h,10);return Ee(Ee(Ee(Ee(Ee({},t),i),d?{x:d}:{}),b?{y:b}:{}),{},{height:f,width:g,name:t.name,radius:t.radius})}function We(e){return o.createElement(Yt,ut({shapeType:"rectangle",propTransformer:fn,activeClassName:"recharts-active-bar"},e))}var hn=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ve(t))return t;var s=Ve(r)||Ye(r);return s?t(r,i):(s||ln(),a)}};function gn(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&dt(e.zIndex)?e.zIndex:t}var bn=["onMouseEnter","onMouseLeave","onClick"],xn=["value","background","tooltipPosition"],yn=["id"],jn=["onMouseEnter","onClick","onMouseLeave"];function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ue.apply(null,arguments)}function Bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Bt(Object(a),!0).forEach(function(r){Pn(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bt(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Pn(e,t,a){return(t=wn(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function wn(e){var t=An(e,"string");return typeof t=="symbol"?t:t+""}function An(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fe(e,t){if(e==null)return{};var a,r,i=On(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function On(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var kn=e=>{var{dataKey:t,name:a,fill:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:Ge(a,t),payload:e}]},In=o.memo(e=>{var{dataKey:t,stroke:a,strokeWidth:r,fill:i,name:s,hide:d,unit:v,tooltipType:b}=e,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Ge(s,t),hide:d,type:b,color:i,unit:v}};return o.createElement(Gt,{tooltipEntrySettings:m})});function Sn(e){var t=ce(ft),{data:a,dataKey:r,background:i,allOtherBarProps:s}=e,{onMouseEnter:d,onMouseLeave:v,onClick:b}=s,m=Fe(s,bn),f=xt(d,r),h=yt(v),g=jt(b,r);if(!i||a==null)return null;var j=lt(i);return o.createElement(Ce,{zIndex:gn(i,Ne.barBackground)},a.map((A,P)=>{var{value:S,background:p,tooltipPosition:y}=A,N=Fe(A,xn);if(!p)return null;var O=f(A,P),C=h(A,P),w=g(A,P),k=G(G(G(G(G({option:i,isActive:String(P)===t},N),{},{fill:"#eee"},p),j),ht(m,A,P)),{},{onMouseEnter:O,onMouseLeave:C,onClick:w,dataKey:r,index:P,className:"recharts-bar-background-rectangle"});return o.createElement(We,ue({key:"background-bar-".concat(P)},k))}))}function En(e){var{showLabels:t,children:a,rects:r}=e,i=r?.map(s=>{var d={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return G(G({},d),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:d,fill:s.fill})});return o.createElement(nr,{value:t?i:void 0},a)}function _n(e){var{shape:t,activeBar:a,baseProps:r,entry:i,index:s,dataKey:d}=e,v=ce(ft),b=ce(Jt),m=a&&String(s)===v&&(b==null||d===b),f=m?a:t;return m?o.createElement(Ce,{zIndex:Ne.activeBar},o.createElement(We,ue({},r,{name:String(r.name)},i,{isActive:m,option:f,index:s,dataKey:d}))):o.createElement(We,ue({},r,{name:String(r.name)},i,{isActive:m,option:f,index:s,dataKey:d}))}function Dn(e){var{shape:t,baseProps:a,entry:r,index:i,dataKey:s}=e;return o.createElement(We,ue({},a,{name:String(a.name)},r,{isActive:!1,option:t,index:i,dataKey:s}))}function Nn(e){var t,{data:a,props:r}=e,i=(t=vt(r))!==null&&t!==void 0?t:{},{id:s}=i,d=Fe(i,yn),{shape:v,dataKey:b,activeBar:m}=r,{onMouseEnter:f,onClick:h,onMouseLeave:g}=r,j=Fe(r,jn),A=xt(f,b),P=yt(g),S=jt(h,b);return a?o.createElement(o.Fragment,null,a.map((p,y)=>o.createElement(ie,ue({key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(y),className:"recharts-bar-rectangle"},ht(j,p,y),{onMouseEnter:A(p,y),onMouseLeave:P(p,y),onClick:S(p,y)}),m?o.createElement(_n,{shape:v,activeBar:m,baseProps:d,entry:p,index:y,dataKey:b}):o.createElement(Dn,{shape:v,baseProps:d,entry:p,index:y,dataKey:b})))):null}function Cn(e){var{props:t,previousRectanglesRef:a}=e,{data:r,layout:i,isAnimationActive:s,animationBegin:d,animationDuration:v,animationEasing:b,onAnimationEnd:m,onAnimationStart:f}=t,h=a.current,g=qt(t,"recharts-bar-"),[j,A]=o.useState(!1),P=!j,S=o.useCallback(()=>{typeof m=="function"&&m(),A(!1)},[m]),p=o.useCallback(()=>{typeof f=="function"&&f(),A(!0)},[f]);return o.createElement(En,{showLabels:P,rects:r},o.createElement(Ut,{animationId:g,begin:d,duration:v,isActive:s,easing:b,onAnimationEnd:S,onAnimationStart:p,key:g},y=>{var N=y===1?r:r?.map((O,C)=>{var w=h&&h[C];if(w)return G(G({},O),{},{x:re(w.x,O.x,y),y:re(w.y,O.y,y),width:re(w.width,O.width,y),height:re(w.height,O.height,y)});if(i==="horizontal"){var k=re(0,O.height,y),D=re(O.stackedBarStart,O.y,y);return G(G({},O),{},{y:D,height:k})}var E=re(0,O.width,y),_=re(O.stackedBarStart,O.x,y);return G(G({},O),{},{width:E,x:_})});return y>0&&(a.current=N??null),N==null?null:o.createElement(ie,null,o.createElement(Nn,{props:t,data:N}))}),o.createElement(Xt,{label:t.label}),t.children)}function Bn(e){var t=o.useRef(null);return o.createElement(Cn,{previousRectanglesRef:t,props:e})}var ia=0,Kn=(e,t)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:ne(e,t)}};class Rn extends o.PureComponent{render(){var{hide:t,data:a,dataKey:r,className:i,xAxisId:s,yAxisId:d,needClip:v,background:b,id:m}=this.props;if(t||a==null)return null;var f=Je("recharts-bar",i),h=m;return o.createElement(ie,{className:f,id:m},v&&o.createElement("defs",null,o.createElement(tr,{clipPathId:h,xAxisId:s,yAxisId:d})),o.createElement(ie,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(h,")"):void 0},o.createElement(Sn,{data:a,dataKey:r,background:b,allOtherBarProps:this.props}),o.createElement(Bn,this.props)))}}var Tn={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:ia,xAxisId:0,yAxisId:0,zIndex:Ne.bar};function Mn(e){var{xAxisId:t,yAxisId:a,hide:r,legendType:i,minPointSize:s,activeBar:d,animationBegin:v,animationDuration:b,animationEasing:m,isAnimationActive:f}=e,{needClip:h}=Za(t,a),g=Ha(),j=Qt(),A=pt(e.children,de),P=ce(y=>mi(y,t,a,j,e.id,A));if(g!=="vertical"&&g!=="horizontal")return null;var S,p=P?.[0];return p==null||p.height==null||p.width==null?S=0:S=g==="vertical"?p.height/2:p.width/2,o.createElement(er,{xAxisId:t,yAxisId:a,data:P,dataPointFormatter:Kn,errorBarOffset:S},o.createElement(Rn,ue({},e,{layout:g,needClip:h,data:P,xAxisId:t,yAxisId:a,hide:r,legendType:i,minPointSize:s,activeBar:d,animationBegin:v,animationDuration:b,animationEasing:m,isAnimationActive:f})))}function Ln(e){var{layout:t,barSettings:{dataKey:a,minPointSize:r},pos:i,bandSize:s,xAxis:d,yAxis:v,xAxisTicks:b,yAxisTicks:m,stackedData:f,displayedData:h,offset:g,cells:j,parentViewBox:A,dataStartIndex:P}=e,S=t==="horizontal"?v:d,p=f?S.scale.domain():null,y=ar({numericAxis:S}),N=S.scale(y);return h.map((O,C)=>{var w,k,D,E,_,te;f?w=rr(f[C+P],p):(w=ne(O,a),Array.isArray(w)||(w=[y,w]));var M=hn(r,ia)(w[1],C);if(t==="horizontal"){var z,[X,$]=[v.scale(w[0]),v.scale(w[1])];k=kt({axis:d,ticks:b,bandSize:s,offset:i.offset,entry:O,index:C}),D=(z=$??X)!==null&&z!==void 0?z:void 0,E=i.size;var J=X-$;if(_=ir(J)?0:J,te={x:k,y:g.top,width:E,height:g.height},Math.abs(M)>0&&Math.abs(_)<Math.abs(M)){var q=je(_||M)*(Math.abs(M)-Math.abs(_));D-=q,_+=q}}else{var[se,He]=[d.scale(w[0]),d.scale(w[1])];if(k=se,D=kt({axis:v,ticks:m,bandSize:s,offset:i.offset,entry:O,index:C}),E=He-se,_=i.size,te={x:g.left,y:D,width:g.width,height:_},Math.abs(M)>0&&Math.abs(E)<Math.abs(M)){var et=je(E||M)*(Math.abs(M)-Math.abs(E));E+=et}}if(k==null||D==null||E==null||_==null)return null;var Ke=G(G({},O),{},{stackedBarStart:N,x:k,y:D,width:E,height:_,value:f?w:w[1],payload:O,background:te,tooltipPosition:{x:k+E/2,y:D+_/2},parentViewBox:A},j&&j[C]&&j[C].props);return Ke}).filter(Boolean)}function zn(e){var t=Ue(e,Tn),a=Qt();return o.createElement(Ft,{id:t.id,type:"bar"},r=>o.createElement(o.Fragment,null,o.createElement(Ya,{legendPayload:kn(t)}),o.createElement(In,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),o.createElement(Xa,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Qa(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),o.createElement(Ce,{zIndex:t.zIndex},o.createElement(Mn,ue({},t,{id:r})))))}var $e=o.memo(zn,Ja);$e.displayName="Bar";function Kt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function Le(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Kt(Object(a),!0).forEach(function(r){$n(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Kt(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function $n(e,t,a){return(t=Vn(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Vn(e){var t=Wn(e,"string");return typeof t=="symbol"?t:t+""}function Wn(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fn=(e,t)=>t,Gn=(e,t,a)=>a,qn=(e,t,a,r)=>r,Un=(e,t,a,r,i)=>i,Be=K([Ht,Un],(e,t)=>e.filter(a=>a.type==="bar").find(a=>a.id===t)),Jn=K([Be],e=>e?.maxBarSize),Yn=(e,t,a,r,i,s)=>s,Rt=(e,t,a)=>{var r=a??e;if(!Ye(r))return pe(r,t,0)},Xn=K([ge,Ht,Fn,Gn,qn],(e,t,a,r,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===a:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Qn=(e,t,a,r)=>{var i=ge(e);return i==="horizontal"?It(e,"yAxis",a,r):It(e,"xAxis",t,r)},Zn=(e,t,a)=>{var r=ge(e);return r==="horizontal"?St(e,"xAxis",t):St(e,"yAxis",a)},Hn=(e,t,a)=>{var r={},i=e.filter(mr),s=e.filter(m=>m.stackId==null),d=i.reduce((m,f)=>(m[f.stackId]||(m[f.stackId]=[]),m[f.stackId].push(f),m),r),v=Object.entries(d).map(m=>{var[f,h]=m,g=h.map(A=>A.dataKey),j=Rt(t,a,h[0].barSize);return{stackId:f,dataKeys:g,barSize:j}}),b=s.map(m=>{var f=[m.dataKey].filter(g=>g!=null),h=Rt(t,a,m.barSize);return{stackId:void 0,dataKeys:f,barSize:h}});return[...v,...b]},ei=K([Xn,ur,Zn],Hn),ti=(e,t,a,r,i)=>{var s,d,v=Be(e,t,a,r,i);if(v!=null){var b=ge(e),m=ea(e),{maxBarSize:f}=v,h=Ye(f)?m:f,g,j;return b==="horizontal"?(g=Pe(e,"xAxis",t,r),j=we(e,"xAxis",t,r)):(g=Pe(e,"yAxis",a,r),j=we(e,"yAxis",a,r)),(s=(d=Zt(g,j,!0))!==null&&d!==void 0?d:h)!==null&&s!==void 0?s:0}},sa=(e,t,a,r)=>{var i=ge(e),s,d;return i==="horizontal"?(s=Pe(e,"xAxis",t,r),d=we(e,"xAxis",t,r)):(s=Pe(e,"yAxis",a,r),d=we(e,"yAxis",a,r)),Zt(s,d)};function ai(e,t,a,r,i){var s=r.length;if(!(s<1)){var d=pe(e,a,0,!0),v,b=[];if(dt(r[0].barSize)){var m=!1,f=a/s,h=r.reduce((p,y)=>p+(y.barSize||0),0);h+=(s-1)*d,h>=a&&(h-=(s-1)*d,d=0),h>=a&&f>0&&(m=!0,f*=.9,h=s*f);var g=(a-h)/2>>0,j={offset:g-d,size:0};v=r.reduce((p,y)=>{var N,O={stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:j.offset+j.size+d,size:m?f:(N=y.barSize)!==null&&N!==void 0?N:0}},C=[...p,O];return j=C[C.length-1].position,C},b)}else{var A=pe(t,a,0,!0);a-2*A-(s-1)*d<=0&&(d=0);var P=(a-2*A-(s-1)*d)/s;P>1&&(P>>=0);var S=dt(i)?Math.min(P,i):P;v=r.reduce((p,y,N)=>[...p,{stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:A+(P+d)*N+(P-S)/2,size:S}}],b)}return v}}var ri=(e,t,a,r,i,s,d)=>{var v=Ye(d)?t:d,b=ai(a,r,i!==s?i:s,e,v);return i!==s&&b!=null&&(b=b.map(m=>Le(Le({},m),{},{position:Le(Le({},m.position),{},{offset:m.position.offset-i/2})}))),b},ni=K([ei,ea,lr,dr,ti,sa,Jn],ri),ii=(e,t,a,r)=>Pe(e,"xAxis",t,r),si=(e,t,a,r)=>Pe(e,"yAxis",a,r),oi=(e,t,a,r)=>we(e,"xAxis",t,r),li=(e,t,a,r)=>we(e,"yAxis",a,r),di=K([ni,Be],(e,t)=>{if(!(e==null||t==null)){var a=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(a!=null)return a.position}}),ci=(e,t)=>{var a=cr(t);if(!(!e||a==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:s}=i;if(s)return s.find(d=>d.key===a)}}}},ui=K([Qn,Be],ci),mi=K([Wt,sr,ii,si,oi,li,di,ge,or,sa,ui,Be,Yn],(e,t,a,r,i,s,d,v,b,m,f,h,g)=>{var{chartData:j,dataStartIndex:A,dataEndIndex:P}=b;if(!(h==null||d==null||t==null||v!=="horizontal"&&v!=="vertical"||a==null||r==null||i==null||s==null||m==null)){var{data:S}=h,p;if(S!=null&&S.length>0?p=S:p=j?.slice(A,P+1),p!=null)return Ln({layout:v,barSettings:h,pos:d,parentViewBox:t,bandSize:m,xAxis:a,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:f,displayedData:p,offset:e,cells:g,dataStartIndex:A})}}),vi=["axis","item"],st=o.forwardRef((e,t)=>o.createElement(vr,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vi,tooltipPayloadSearcher:ta,categoricalChartProps:e,ref:t}));function pi(e){var t=qe();return o.useEffect(()=>{t(pr(e))},[t,e]),null}var fi=["layout"];function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},mt.apply(null,arguments)}function hi(e,t){if(e==null)return{};var a,r,i=gi(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function gi(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var bi={top:5,right:5,bottom:5,left:5},oa={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:bi,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},xi=o.forwardRef(function(t,a){var r,i=Ue(t.categoricalChartProps,oa),{layout:s}=i,d=hi(i,fi),{chartName:v,defaultTooltipEventType:b,validateTooltipEventTypes:m,tooltipPayloadSearcher:f}=t,h={chartName:v,defaultTooltipEventType:b,validateTooltipEventTypes:m,tooltipPayloadSearcher:f,eventEmitter:void 0};return o.createElement(fr,{preloadedState:{options:h},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:v},o.createElement(hr,{chartData:i.data}),o.createElement(gr,{layout:s,margin:i.margin}),o.createElement(br,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),o.createElement(pi,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),o.createElement(xr,mt({},d,{ref:a})))});function Tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function Mt(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Tt(Object(a),!0).forEach(function(r){yi(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tt(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function yi(e,t,a){return(t=ji(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ji(e){var t=Pi(e,"string");return typeof t=="symbol"?t:t+""}function Pi(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wi=["item"],Ai=Mt(Mt({},oa),{},{layout:"centric",startAngle:0,endAngle:360}),Lt=o.forwardRef((e,t)=>{var a=Ue(e,Ai);return o.createElement(xi,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:wi,tooltipPayloadSearcher:ta,categoricalChartProps:a,ref:t})});const _e=[{id:"kpis",titulo:"KPIs principais"},{id:"vendas_destino",titulo:"Vendas por destino"},{id:"vendas_produto",titulo:"Vendas por produto"},{id:"timeline",titulo:"Evolução das vendas"},{id:"orcamentos",titulo:"Orçamentos recentes"},{id:"aniversariantes",titulo:"Aniversariantes"}],ze=[{id:"kpi_vendas_total",titulo:"Vendas no período"},{id:"kpi_qtd_vendas",titulo:"Qtd. vendas"},{id:"kpi_ticket_medio",titulo:"Ticket médio"},{id:"kpi_diferenciado",titulo:"Comissão Diferenciada"},{id:"kpi_orcamentos",titulo:"Orçamentos"},{id:"kpi_conversao",titulo:"Conv. Orç → Vendas"},{id:"kpi_meta",titulo:"Meta somada (R$)"},{id:"kpi_atingimento",titulo:"Atingimento da meta"}];function U(e){return e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}function zt(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),e.getMonth()+1,0),r=i=>i.toISOString().substring(0,10);return{inicio:r(t),fim:r(a)}}function Oi(e){const t=new Date,a=new Date;a.setDate(t.getDate()-(e-1));const r=i=>i.toISOString().substring(0,10);return{inicio:r(a),fim:r(t)}}function $t(e){if(!e)return null;const t=new Date(e);if(isNaN(t.getTime()))return null;const a=new Date;let r=a.getFullYear()-t.getFullYear();const i=a.getMonth()-t.getMonth();return(i<0||i===0&&a.getDate()<t.getDate())&&r--,r}const ae=["#7c3aed","#a855f7","#6366f1","#ec4899","#22c55e"],Di=()=>{const[e,t]=o.useState(null),[a,r]=o.useState(!0),i=ba("Dashboard"),[s,d]=o.useState("mes_atual"),[v,b]=o.useState(""),[m,f]=o.useState(""),[h,g]=o.useState([]),[j,A]=o.useState([]),[P,S]=o.useState([]),[p,y]=o.useState([]),[N,O]=o.useState(!0),[C,w]=o.useState(null),[k,D]=o.useState(_e.map(c=>c.id)),[E,_]=o.useState(()=>_e.reduce((c,l)=>({...c,[l.id]:!0}),{})),[te,M]=o.useState(!1),[z,X]=o.useState(ze.map(c=>c.id)),[$,J]=o.useState(()=>ze.reduce((c,l)=>({...c,[l.id]:!0}),{})),[q,se]=o.useState({vendas_destino:"pie",vendas_produto:"bar",timeline:"line"}),He=c=>{const l={...E,[c]:!E[c]};_(l),Oe(k,l,{order:z,visible:$})},et=c=>{const l={...$,[c]:!$[c]};J(l),Oe(k,E,{order:z,visible:l})},Ke=(c,l)=>{const u=k.indexOf(c);if(u===-1)return;const x=[...k],I=l==="up"?u-1:u+1;I<0||I>=x.length||([x[u],x[I]]=[x[I],x[u]],D(x),Oe(x,E,{order:z,visible:$},q))},Pt=(c,l)=>{const u=z.indexOf(c);if(u===-1)return;const x=[...z],I=l==="up"?u-1:u+1;I<0||I>=x.length||([x[u],x[I]]=[x[I],x[u]],X(x),Oe(k,E,{order:x,visible:$},q))},tt=(c,l)=>{const u={...q,[c]:l};se(u),Oe(k,E,{order:z,visible:$},u)},Ae=c=>E[c]!==!1;function la(c,l,u){typeof window<"u"&&(window.localStorage.setItem("dashboard_kpis",JSON.stringify({order:c,visible:l})),u&&window.localStorage.setItem("dashboard_charts",JSON.stringify(u)))}async function Oe(c,l,u,x){try{if(e?.usuarioId){const I=c.map((B,L)=>({usuario_id:e.usuarioId,widget:B,ordem:L,visivel:l[B]!==!1,settings:B==="kpis"&&u?{kpis:{order:u.order,visible:u.visible},charts:x||null}:B==="vendas_destino"||B==="vendas_produto"||B==="timeline"?{charts:x||null}:null}));await ee.from("dashboard_widgets").delete().eq("usuario_id",e.usuarioId);try{await ee.from("dashboard_widgets").insert(I)}catch{const L=I.map(Z=>{const W={...Z};return delete W.settings,W});await ee.from("dashboard_widgets").insert(L)}}}catch(I){console.warn("Não foi possível salvar preferências no Supabase, mantendo localStorage.",I)}finally{typeof window<"u"&&(window.localStorage.setItem("dashboard_widgets",JSON.stringify({order:c,visible:l})),u&&la(u.order,u.visible,x),x&&window.localStorage.setItem("dashboard_charts",JSON.stringify(x)))}}const[Q,wt]=o.useState(null),[be,At]=o.useState(null);o.useEffect(()=>{const{inicio:c,fim:l}=zt();b(c),f(l),d("mes_atual")},[]);function Ot(c){if(d(c),c==="mes_atual"){const{inicio:l,fim:u}=zt();b(l),f(u)}else if(c==="ultimos_30"){const{inicio:l,fim:u}=Oi(30);b(l),f(u)}}o.useEffect(()=>{async function c(){try{r(!0),w(null);const{data:l,error:u}=await ee.auth.getUser();if(u||!l?.user){w("Usuário não autenticado.");return}const x=l.user.id,{data:I,error:B}=await ee.from("users").select("id, nome_completo, user_types(name)").eq("id",x).maybeSingle();B&&console.error(B);const L=I?.user_types?.name||l.user.user_metadata?.name||"",Z=String(L||"").toUpperCase();let W="VENDEDOR";Z.includes("ADMIN")?W="ADMIN":Z.includes("GESTOR")?W="GESTOR":Z.includes("VENDEDOR")?W="VENDEDOR":W="OUTRO";let oe=[x];if(W==="GESTOR"){const{data:me,error:H}=await ee.from("gestor_vendedor").select("vendedor_id").eq("gestor_id",x);if(!H&&me){const le=me.map(Y=>Y.vendedor_id).filter(Y=>!!Y);oe=Array.from(new Set([x,...le]))}}else W==="ADMIN"&&(oe=[]);t({usuarioId:x,nome:I?.nome_completo||null,papel:W,vendedorIds:oe})}catch(l){console.error(l),w("Erro ao carregar contexto do usuário.")}finally{r(!1)}}c()},[]),o.useEffect(()=>{if(!e||!v||!m)return;async function c(){try{O(!0),w(null);let l=ee.from("vendas").select(`
          id,
          data_lancamento,
          data_embarque,
          cancelada,
          vendedor_id,
          clientes:clientes (id, nome),
          destinos:produtos!destino_id (id, nome),
          vendas_recibos (
            id,
            valor_total,
            valor_taxas,
            produtos:tipo_produtos!produto_id (id, nome, regra_comissionamento)
          )
        `).gte("data_lancamento",v).lte("data_lancamento",m).eq("cancelada",!1);e.vendedorIds.length>0&&(l=l.in("vendedor_id",e.vendedorIds));const{data:u,error:x}=await l;if(x)throw x;const{data:I,error:B}=await ee.from("orcamentos").select(`
          id,
          data_orcamento,
          data_viagem,
          status,
          valor,
          notas,
          clientes:clientes (id, nome),
          destinos:produtos!destino_id (id, nome)
        `).gte("data_orcamento",v).lte("data_orcamento",m).order("data_orcamento",{ascending:!1});if(B)throw B;let L=ee.from("metas_vendedor").select("id, vendedor_id, periodo, meta_geral, meta_diferenciada, ativo").gte("periodo",v).lte("periodo",m).eq("ativo",!0);e.vendedorIds.length>0&&(L=L.in("vendedor_id",e.vendedorIds));const{data:Z,error:W}=await L;if(W)throw W;const{data:oe,error:me}=await ee.from("clientes").select("id, nome, nascimento, telefone");if(me)throw me;g(u||[]),A(I||[]),S(Z||[]),y(oe||[]);try{const{data:H,error:le}=await ee.from("dashboard_widgets").select("widget, ordem, visivel, settings").eq("usuario_id",e.usuarioId).order("ordem",{ascending:!0});if(!le&&H&&H.length>0){const Y=H.map(F=>F.widget).filter(F=>_e.some(Se=>Se.id===F)),ve={...E};let R={},V=null;H.forEach(F=>{const Se=F.widget;_e.some(it=>it.id===Se)&&(ve[Se]=F.visivel!==!1),Se==="kpis"&&F.settings?.kpis&&(Array.isArray(F.settings.kpis.order)&&(R.order=F.settings.kpis.order.filter(it=>ze.some(ga=>ga.id===it))),F.settings.kpis.visible&&(R.visible={...$,...F.settings.kpis.visible})),F.settings?.charts&&(V={...V||{},...F.settings.charts})}),Y.length>0&&D(Y),_(ve),R.order&&R.order.length>0&&X(R.order),R.visible&&J(R.visible),V&&se(F=>({...F,...V}))}else{const Y=typeof window<"u"?window.localStorage.getItem("dashboard_widgets"):null;if(Y){const V=JSON.parse(Y);V.order&&V.visible&&(D(V.order),_(V.visible))}const ve=typeof window<"u"?window.localStorage.getItem("dashboard_kpis"):null;if(ve){const V=JSON.parse(ve);V.order&&X(V.order),V.visible&&J(V.visible)}const R=typeof window<"u"?window.localStorage.getItem("dashboard_charts"):null;if(R){const V=JSON.parse(R);se(F=>({...F,...V}))}}}catch(H){console.warn("Preferências do dashboard não carregadas, usando padrão.",H);const le=typeof window<"u"?window.localStorage.getItem("dashboard_widgets"):null;if(le){const R=JSON.parse(le);R.order&&R.visible&&(D(R.order),_(R.visible))}const Y=typeof window<"u"?window.localStorage.getItem("dashboard_kpis"):null;if(Y){const R=JSON.parse(Y);R.order&&X(R.order),R.visible&&J(R.visible)}const ve=typeof window<"u"?window.localStorage.getItem("dashboard_charts"):null;if(ve){const R=JSON.parse(ve);se(V=>({...V,...R}))}}}catch(l){console.error(l),w("Erro ao carregar dados do dashboard.")}finally{O(!1)}}c()},[e,v,m]);const{totalVendas:da,qtdVendas:ca,ticketMedio:ua,totalDiferenciado:ma,totalOrcamentos:va,conversao:pa,metaSomada:fa,atingimentoMeta:ha}=o.useMemo(()=>{let c=0,l=h.length,u=0;h.forEach(W=>{const oe=W.vendas_recibos||[];let me=0;oe.forEach(H=>{const le=Number(H.valor_total||0);me+=le,(H.produtos?.regra_comissionamento?.toLowerCase()||"")==="diferenciado"&&(u+=le)}),c+=me});const x=l>0?c/l:0,I=j.length,B=I>0?l/I*100:0,L=P.reduce((W,oe)=>W+Number(oe.meta_geral||0),0),Z=L>0?c/L*100:0;return{totalVendas:c,qtdVendas:l,ticketMedio:x,totalDiferenciado:u,totalOrcamentos:I,conversao:B,metaSomada:L,atingimentoMeta:Z}},[h,j,P]),ke=o.useMemo(()=>{const c=new Map;return h.forEach(l=>{const u=l.destinos?.nome||"Sem destino",x=(l.vendas_recibos||[]).reduce((I,B)=>I+Number(B.valor_total||0),0);c.set(u,(c.get(u)||0)+x)}),Array.from(c.entries()).map(([l,u])=>({name:l,value:u}))},[h]),Ie=o.useMemo(()=>{const c=new Map;return h.forEach(l=>{(l.vendas_recibos||[]).forEach(u=>{const x=u.produtos?.nome||"Sem produto",I=Number(u.valor_total||0);c.set(x,(c.get(x)||0)+I)})}),Array.from(c.entries()).map(([l,u])=>({name:l,value:u}))},[h]),Re=o.useMemo(()=>{const c=new Map;return h.forEach(u=>{const x=(u.data_lancamento||"").slice(0,10);if(!x)return;const I=(u.vendas_recibos||[]).reduce((B,L)=>B+Number(L.valor_total||0),0);c.set(x,(c.get(x)||0)+I)}),Array.from(c.entries()).sort(([u],[x])=>u<x?-1:1).map(([u,x])=>{const[I,B,L]=u.split("-"),Z=I&&B&&L?`${L.padStart(2,"0")}/${B.padStart(2,"0")}`:u;return{date:u,label:Z,value:x}})},[h]),at=o.useMemo(()=>[...j].sort((l,u)=>l.data_orcamento<u.data_orcamento?1:-1).slice(0,10),[j]),rt=o.useMemo(()=>{const l=new Date().getMonth();return p.filter(u=>{if(!u.nascimento)return!1;const x=new Date(u.nascimento);return isNaN(x.getTime())?!1:x.getMonth()===l})},[p]);if(a&&!e||i.loading)return n.jsx("div",{children:"Carregando contexto do dashboard..."});if(!i.ativo)return n.jsx("div",{children:"Você não possui acesso ao módulo de Dashboard."});const nt=c=>{switch(c){case"kpis":return n.jsx("div",{className:"card-base card-purple mb-3",style:{paddingBottom:12},children:n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:10},children:z.filter(l=>$[l]!==!1).map(l=>{switch(l){case"kpi_vendas_total":return n.jsxs("div",{className:"kpi-card",style:{display:"flex",flexDirection:"column",gap:4},children:[n.jsx("div",{className:"kpi-label",children:"Vendas no período"}),n.jsx("div",{className:"kpi-value",children:U(da)})]},l);case"kpi_qtd_vendas":return n.jsxs("div",{className:"kpi-card",style:{display:"flex",flexDirection:"column",gap:4},children:[n.jsx("div",{className:"kpi-label",children:"Qtd. vendas"}),n.jsx("div",{className:"kpi-value",children:ca})]},l);case"kpi_ticket_medio":return n.jsxs("div",{className:"kpi-card",style:{display:"flex",flexDirection:"column",gap:4},children:[n.jsx("div",{className:"kpi-label",children:"Ticket médio"}),n.jsx("div",{className:"kpi-value",children:U(ua)})]},l);case"kpi_diferenciado":return n.jsxs("div",{className:"kpi-card",style:{display:"flex",flexDirection:"column",gap:4},children:[n.jsx("div",{className:"kpi-label",children:"Comissão Diferenciada"}),n.jsx("div",{className:"kpi-value",children:U(ma)})]},l);case"kpi_orcamentos":return n.jsxs("div",{className:"kpi-card",style:{display:"flex",flexDirection:"column",gap:4},children:[n.jsx("div",{className:"kpi-label",children:"Orçamentos"}),n.jsx("div",{className:"kpi-value",children:va})]},l);case"kpi_conversao":return n.jsxs("div",{className:"kpi-card",style:{display:"flex",flexDirection:"column",gap:4},children:[n.jsx("div",{className:"kpi-label",children:"Conv. Orç → Vendas"}),n.jsxs("div",{className:"kpi-value",children:[pa.toFixed(1),"%"]})]},l);case"kpi_meta":return n.jsxs("div",{className:"kpi-card",style:{display:"flex",flexDirection:"column",gap:4},children:[n.jsx("div",{className:"kpi-label",children:"Meta somada (R$)"}),n.jsx("div",{className:"kpi-value",children:U(fa)})]},l);case"kpi_atingimento":return n.jsxs("div",{className:"kpi-card",style:{display:"flex",flexDirection:"column",gap:4},children:[n.jsx("div",{className:"kpi-label",children:"Atingimento da meta"}),n.jsxs("div",{className:"kpi-value",children:[ha.toFixed(1),"%"]})]},l);default:return null}})})});case"vendas_destino":return n.jsxs("div",{className:"card-base card-purple mb-3",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{marginBottom:8},children:"Vendas por destino"}),n.jsxs("select",{className:"form-select",style:{maxWidth:160},value:q.vendas_destino||"pie",onChange:l=>tt("vendas_destino",l.target.value),children:[n.jsx("option",{value:"pie",children:"Pizza"}),n.jsx("option",{value:"bar",children:"Barras"})]})]}),n.jsx("div",{style:{width:"100%",height:260},children:ke.length===0?n.jsx("div",{style:{fontSize:"0.9rem"},children:"Sem dados para o período."}):q.vendas_destino==="bar"?n.jsx(xe,{children:n.jsxs(st,{data:ke,children:[n.jsx(Te,{dataKey:"name",hide:!0}),n.jsx(Me,{}),n.jsx(ye,{formatter:l=>U(Number(l||0))}),n.jsx($e,{dataKey:"value",children:ke.map((l,u)=>n.jsx(de,{fill:ae[u%ae.length]},`cell-dest-${u}`))})]})}):n.jsx(xe,{children:n.jsxs(Lt,{children:[n.jsx(ct,{data:ke,dataKey:"value",nameKey:"name",outerRadius:90,label:l=>`${l.name} (${U(l.value)})`,children:ke.map((l,u)=>n.jsx(de,{fill:ae[u%ae.length]},`cell-${u}`))}),n.jsx(ye,{formatter:l=>U(Number(l||0))})]})})})]});case"vendas_produto":return n.jsxs("div",{className:"card-base card-purple mb-3",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{marginBottom:8},children:"Vendas por produto"}),n.jsxs("select",{className:"form-select",style:{maxWidth:160},value:q.vendas_produto||"bar",onChange:l=>tt("vendas_produto",l.target.value),children:[n.jsx("option",{value:"bar",children:"Barras"}),n.jsx("option",{value:"pie",children:"Pizza"})]})]}),n.jsx("div",{style:{width:"100%",height:260},children:Ie.length===0?n.jsx("div",{style:{fontSize:"0.9rem"},children:"Sem dados para o período."}):q.vendas_produto==="pie"?n.jsx(xe,{children:n.jsxs(Lt,{children:[n.jsx(ct,{data:Ie,dataKey:"value",nameKey:"name",outerRadius:90,label:l=>`${l.name} (${U(l.value)})`,children:Ie.map((l,u)=>n.jsx(de,{fill:ae[u%ae.length]},`cell-prod-pie-${u}`))}),n.jsx(ye,{formatter:l=>U(Number(l||0))})]})}):n.jsx(xe,{children:n.jsxs(st,{data:Ie,children:[n.jsx(Te,{dataKey:"name",hide:!0}),n.jsx(Me,{}),n.jsx(ye,{formatter:l=>U(Number(l||0))}),n.jsx($e,{dataKey:"value",children:Ie.map((l,u)=>n.jsx(de,{fill:ae[u%ae.length]},`cell-prod-${u}`))})]})})})]});case"timeline":return n.jsxs("div",{className:"card-base card-purple mb-3",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{marginBottom:8},children:"Evolução das vendas no período"}),n.jsxs("select",{className:"form-select",style:{maxWidth:160},value:q.timeline||"line",onChange:l=>tt("timeline",l.target.value),children:[n.jsx("option",{value:"line",children:"Linha"}),n.jsx("option",{value:"bar",children:"Barras"})]})]}),n.jsx("div",{style:{width:"100%",height:260},children:Re.length===0?n.jsx("div",{style:{fontSize:"0.9rem"},children:"Sem dados para o período."}):q.timeline==="bar"?n.jsx(xe,{children:n.jsxs(st,{data:Re,children:[n.jsx(Te,{dataKey:"label"}),n.jsx(Me,{}),n.jsx(ye,{formatter:l=>U(Number(l||0))}),n.jsx($e,{dataKey:"value",children:Re.map((l,u)=>n.jsx(de,{fill:ae[u%ae.length]},`cell-time-${u}`))})]})}):n.jsx(xe,{children:n.jsxs(yr,{data:Re,children:[n.jsx(Te,{dataKey:"label"}),n.jsx(Me,{}),n.jsx(ye,{formatter:l=>U(Number(l||0))}),n.jsx(jr,{type:"monotone",dataKey:"value",stroke:"#a855f7",strokeWidth:2,dot:!1})]})})})]});case"orcamentos":return n.jsxs("div",{className:"card-base card-purple mb-3",children:[n.jsxs("h3",{style:{marginBottom:8},children:["Orçamentos recentes (",at.length,")"]}),n.jsx("div",{className:"table-container overflow-x-auto",children:n.jsxs("table",{className:"table-default min-w-[680px]",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Data"}),n.jsx("th",{children:"Cliente"}),n.jsx("th",{children:"Destino"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Valor"}),n.jsx("th",{children:"Ver"})]})}),n.jsxs("tbody",{children:[at.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,children:"Nenhum orçamento no período."})}),at.map(l=>n.jsxs("tr",{children:[n.jsx("td",{children:l.data_orcamento?new Date(l.data_orcamento).toLocaleDateString("pt-BR"):"-"}),n.jsx("td",{children:l.clientes?.nome||"-"}),n.jsx("td",{children:l.destinos?.nome||"-"}),n.jsx("td",{children:l.status||"-"}),n.jsx("td",{children:U(Number(l.valor||0))}),n.jsx("td",{children:n.jsx("button",{className:"btn btn-light",onClick:()=>wt(l),children:"Ver"})})]},l.id))]})]})})]});case"aniversariantes":return n.jsxs("div",{className:"card-base card-purple mb-3",children:[n.jsxs("h3",{style:{marginBottom:8},children:["Aniversariantes do mês (",rt.length,")"]}),n.jsx("div",{className:"table-container overflow-x-auto",children:n.jsxs("table",{className:"table-default min-w-[520px]",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nome"}),n.jsx("th",{children:"Data nasc."}),n.jsx("th",{children:"Idade"}),n.jsx("th",{children:"Telefone"}),n.jsx("th",{children:"Ver"})]})}),n.jsxs("tbody",{children:[rt.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:5,children:"Nenhum aniversariante este mês."})}),rt.map(l=>{const u=$t(l.nascimento);return n.jsxs("tr",{children:[n.jsx("td",{children:l.nome}),n.jsx("td",{children:l.nascimento?new Date(l.nascimento).toLocaleDateString("pt-BR"):"-"}),n.jsx("td",{children:u??"-"}),n.jsx("td",{children:l.telefone||"-"}),n.jsx("td",{children:n.jsx("button",{className:"btn btn-light",onClick:()=>At(l),children:"Ver"})})]},l.id)})]})]})})]});default:return null}};return n.jsxs("div",{className:"dashboard-geral-page",children:[n.jsxs("div",{className:"card-base card-purple mb-3",children:[n.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginBottom:8},children:[n.jsx("button",{type:"button",className:"btn btn-light",style:{backgroundColor:s==="mes_atual"?"#4f46e5":void 0,color:s==="mes_atual"?"#e5e7eb":void 0},onClick:()=>Ot("mes_atual"),children:"Mês atual"}),n.jsx("button",{type:"button",className:"btn btn-light",style:{backgroundColor:s==="ultimos_30"?"#4f46e5":void 0,color:s==="ultimos_30"?"#e5e7eb":void 0},onClick:()=>Ot("ultimos_30"),children:"Últimos 30 dias"}),n.jsx("button",{type:"button",className:"btn btn-light",style:{backgroundColor:s==="personalizado"?"#4f46e5":void 0,color:s==="personalizado"?"#e5e7eb":void 0},onClick:()=>d("personalizado"),children:"Personalizado"}),n.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>M(!0),children:"Personalizar dashboard"})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Data início"}),n.jsx("input",{type:"date",className:"form-input",value:v,onChange:c=>{d("personalizado"),b(c.target.value)}})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Data fim"}),n.jsx("input",{type:"date",className:"form-input",value:m,onChange:c=>{d("personalizado"),f(c.target.value)}})]})]})]}),Ae("kpis")&&n.jsx("div",{children:nt("kpis")}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))",gap:12,alignItems:"start"},children:k.filter(c=>["vendas_destino","vendas_produto","timeline"].includes(c)&&Ae(c)).map(c=>n.jsx("div",{children:nt(c)},c))}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))",gap:12,alignItems:"start"},children:k.filter(c=>["orcamentos","aniversariantes"].includes(c)&&Ae(c)).map(c=>n.jsx("div",{children:nt(c)},c))}),te&&n.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(15,23,42,0.75)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:60},children:n.jsxs("div",{style:{width:"95%",maxWidth:520,background:"#0f172a",border:"1px solid #1f2937",borderRadius:10,padding:16,color:"#e5e7eb",maxHeight:"90vh",overflowY:"auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:12,alignItems:"center"},children:[n.jsx("h3",{children:"Personalizar dashboard"}),n.jsx("button",{className:"btn btn-light",onClick:()=>M(!1),children:"Fechar"})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:k.map((c,l)=>{const u=_e.find(x=>x.id===c);return u?n.jsxs("div",{style:{border:"1px solid #1f2937",borderRadius:8,padding:10,display:"flex",alignItems:"center",gap:8,flexDirection:"column"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%",gap:8},children:[n.jsx("input",{type:"checkbox",checked:Ae(c),onChange:()=>He(c)}),n.jsx("div",{style:{flex:1},children:u.titulo}),n.jsxs("div",{style:{display:"flex",gap:6},children:[n.jsx("button",{type:"button",className:"btn btn-light",onClick:()=>Ke(c,"up"),disabled:l===0,children:"↑"}),n.jsx("button",{type:"button",className:"btn btn-light",onClick:()=>Ke(c,"down"),disabled:l===k.length-1,children:"↓"})]})]}),c==="kpis"&&Ae(c)&&n.jsxs("div",{style:{width:"100%",borderTop:"1px solid #1f2937",paddingTop:8,marginTop:8,display:"flex",flexDirection:"column",gap:8},children:[n.jsx("div",{style:{fontWeight:600,fontSize:"0.9rem"},children:"KPIs visíveis e ordem"}),z.map((x,I)=>{const B=ze.find(L=>L.id===x);return B?n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("input",{type:"checkbox",checked:$[x]!==!1,onChange:()=>et(x)}),n.jsx("div",{style:{flex:1},children:B.titulo}),n.jsxs("div",{style:{display:"flex",gap:6},children:[n.jsx("button",{type:"button",className:"btn btn-light",onClick:()=>Pt(x,"up"),disabled:I===0,children:"↑"}),n.jsx("button",{type:"button",className:"btn btn-light",onClick:()=>Pt(x,"down"),disabled:I===z.length-1,children:"↓"})]})]},x):null})]})]},c):null})})]})}),Q&&n.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(15,23,42,0.75)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:50},children:n.jsxs("div",{style:{width:"95%",maxWidth:700,maxHeight:"90vh",overflowY:"auto",background:"#020617",borderRadius:10,border:"1px solid #1f2937",padding:18,color:"#e5e7eb"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10},children:[n.jsx("h3",{children:"Detalhes do orçamento"}),n.jsx("button",{className:"btn btn-light",onClick:()=>wt(null),children:"Fechar"})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Cliente:"})," ",Q.clientes?.nome||"-"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Destino:"})," ",Q.destinos?.nome||"-"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Data orçamento:"})," ",Q.data_orcamento?new Date(Q.data_orcamento).toLocaleDateString("pt-BR"):"-"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Data viagem:"})," ",Q.data_viagem?new Date(Q.data_viagem).toLocaleDateString("pt-BR"):"-"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"})," ",Q.status||"-"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Valor:"})," ",U(Number(Q.valor||0))]}),Q.notas&&n.jsxs("p",{style:{marginTop:8},children:[n.jsx("strong",{children:"Notas:"})," ",Q.notas]})]})}),be&&n.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(15,23,42,0.75)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:50},children:n.jsxs("div",{style:{width:"95%",maxWidth:600,maxHeight:"90vh",overflowY:"auto",background:"#020617",borderRadius:10,border:"1px solid #1f2937",padding:18,color:"#e5e7eb"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10},children:[n.jsx("h3",{children:"Dados do cliente"}),n.jsx("button",{className:"btn btn-light",onClick:()=>At(null),children:"Fechar"})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Nome:"})," ",be.nome]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Nascimento:"})," ",be.nascimento?new Date(be.nascimento).toLocaleDateString("pt-BR"):"-"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Idade:"})," ",$t(be.nascimento)??"-"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Telefone:"})," ",be.telefone||"-"]})]})}),N&&n.jsx("div",{style:{marginTop:12,fontSize:"0.9rem"},children:"Carregando dados do dashboard..."})]})};export{Di as default};
