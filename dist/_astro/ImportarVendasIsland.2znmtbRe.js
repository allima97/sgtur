import{j as t}from"./jsx-runtime.mfZSNocD.js";import{r as o}from"./index.C0Fn7Wtz.js";function f(){const[s,c]=o.useState(null),[n,a]=o.useState(null),m=o.useRef(null);async function u(e){if(e.preventDefault(),!s){a("Selecione um arquivo Excel (.xlsx)");return}a("Enviando arquivo...");const i=new FormData;i.append("file",s);try{const r=await fetch("/api/importar-vendas",{method:"POST",body:i}),l=await r.json();r.ok?a(`Importação concluída: ${l.importados} vendas importadas.`):a(l.error||"Erro ao importar arquivo.")}catch{a("Erro ao enviar arquivo.")}}return t.jsxs("div",{className:"card-base card-config",style:{maxWidth:500,margin:"0 auto"},children:[t.jsx("h2",{children:"Importar Vendas (Excel)"}),t.jsxs("form",{onSubmit:u,children:[t.jsx("input",{type:"file",accept:".xlsx",ref:m,onChange:e=>c(e.target.files?.[0]||null),style:{marginBottom:12}}),t.jsx("button",{className:"btn btn-primary",type:"submit",children:"Importar"})]}),n&&t.jsx("div",{style:{marginTop:12},children:n})]})}export{f as default};
